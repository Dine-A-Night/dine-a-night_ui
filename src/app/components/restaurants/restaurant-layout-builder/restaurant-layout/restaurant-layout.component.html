<div class="flex gap-5">
    <mat-form-field color="primary">
        <mat-label>Length</mat-label>
        <input
            matInput
            type="number"
            placeholder="Number of Rows"
            [(ngModel)]="layoutRows"
            (ngModelChange)="onLayoutDiemensionsChanged()" />
    </mat-form-field>

    <mat-form-field color="primary">
        <mat-label>Width</mat-label>
        <input
            matInput
            type="number"
            placeholder="Number of Columns"
            max="30"
            [(ngModel)]="layoutColumns"
            (ngModelChange)="onLayoutDiemensionsChanged()" />
    </mat-form-field>
</div>

<div
    *ngIf="restaurantLayout && layoutColumns && layoutRows"
    cdkDropListGroup>
    <!-- Rows -->
    <div
        class="border h-24 flex"
        cdkDropList
        cdkDropListOrientation="horizontal"
        [cdkDropListData]="row"
        (cdkDropListDropped)="drop($event)"
        *ngFor="let row of restaurantLayout">
        <!-- Columns -->
        <div
            class="drag-box flex-1 flex justify-center items-center text-center"
            *ngFor="let cell of row"
            [ngClass]="{ 'cursor-move': cell !== null }"
            cdkDrag
            [cdkDragDisabled]="cell === null"
            [cdkDragData]="cell"
            >{{ cell ? cell.tableType.name : '' }}</div
        >
    </div>
</div>
